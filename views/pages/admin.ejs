<!doctype html>
<html>

<head>
    <% include ../partials/header.ejs %>
        <!-- https://developers.google.com/chart/interactive/docs/ -->
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <!--
            VARIABLES EJS:
            Admin: resultsAdmin
            Clientes: resultsClientes
            Servicios: resultsServicios
        -->
        <style>
            .vertical-center {
                background-color: #B7DAF3;
                min-height: 100%;
                /* Fallback for browsers do NOT support vh unit */
                min-height: 100vh;
                display: flex;
                align-items: center;
            }
        </style>
</head>

<body>

    <% include ../partials/nav.ejs %>
        <div style="margin-top:56px;width:100%;"></div>
        <script src="js/navreset.js"></script>

        <div class="vertical-center">
            <div class="container" style="background-color: #8ABDE1;">
                <div class="row">
                    <div id="donutchart" style="width: 100%; height: 100%;"></div>
                </div>
                <div class="row">
                    <div class="table-responsive" style="background-color: #8ABDE1;">
                        <table class="table table-striped table-hover table-sm">
                            <thead class="thead-light">
                                <th scope="col">ID Cliente</th>
                                <th scope="col">ID Servicio</th>
                                <th scope="col">TS Entrada</th>
                                <th scope="col">TS Salida</th>
                            </thead>
                            <tbody>
                                <% resultsAdmin.forEach(function(r) { %>
                                    <tr>
                                        <td>
                                            <%= r.id_cliente %>
                                        </td>
                                        <td>
                                            <%= r.id_servicio %>
                                        </td>
                                        <td>
                                            <%= r.entrada %>
                                        </td>
                                        <td>
                                            <%= r.salida %>
                                        </td>
                                    </tr>
                                    <% }); %>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row">

                    <div class="dropdown">
                        <button class="btn btn-info dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">
                            Ir a página
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="/habdoble">Habitación Doble</a>
                            <a class="dropdown-item" href="/habsimple">Habitación Simple</a>
                            <a class="dropdown-item" href="/playa">Excursión Playa</a>
                            <a class="dropdown-item" href="/redir">Pago con Éxito</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <script type="text/javascript">
            // Google Pie Chart
            google.charts.load("current", { packages: ["corechart"] });
            google.charts.setOnLoadCallback(drawChart);
            function drawChart() {
                var data = google.visualization.arrayToDataTable([
                    ['Recursos', 'Número'],
                    ['Habitaciones Dobles', 1],
                    ['Habitaciones Simples', 2],
                    ['Hamacas de Playa', 3],
                    ['Huecos Libres', 14]
                ]);

                var options = {
                    backgroundColor: "#B7DAF3",
                    title: 'Ocupación del Hotel',
                    pieHole: 0.4,
                };

                var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
                chart.draw(data, options);
            }
            $(window).resize(function () {
                //google.visualization.AreaChart(document.getElementById('donutchart'));
                drawChart();
            });


        </script>

        <script type="text/javascript">
                // Database management

        </script>
</body>

</html>